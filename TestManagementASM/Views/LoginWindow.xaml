<Window
    x:Class="TestManagementASM.Views.LoginWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Đăng nhập - Hệ thống Quản lý Bài kiểm tra"
    Width="400"
    Height="500"
    Background="#F5F5F5"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Header  -->
        <Border
            Grid.Row="0"
            Height="60"
            Background="#2196F3">
            <StackPanel VerticalAlignment="Center">
                <TextBlock
                    HorizontalAlignment="Center"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="HỆ THỐNG QUẢN LÝ" />
                <TextBlock
                    Margin="0,5,0,0"
                    HorizontalAlignment="Center"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="BÀI KIỂM TRA" />
            </StackPanel>
        </Border>

        <!--  Login Form  -->
        <Border
            Grid.Row="1"
            Margin="40,30,40,40"
            Background="White"
            CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="10"
                    Opacity="0.3"
                    ShadowDepth="2"
                    Color="#CCCCCC" />
            </Border.Effect>

            <StackPanel Margin="30">
                <TextBlock
                    Margin="0,0,0,30"
                    HorizontalAlignment="Center"
                    FontSize="18"
                    FontWeight="SemiBold"
                    Foreground="#333333"
                    Text="ĐĂNG NHẬP" />

                <!--  Username  -->
                <TextBlock
                    Margin="0,0,0,5"
                    FontSize="13"
                    Foreground="#555555"
                    Text="Tên đăng nhập" />
                <TextBox
                    x:Name="txtUsername"
                    Height="40"
                    Margin="0,0,0,15"
                    Padding="10,0"
                    BorderBrush="#DDDDDD"
                    BorderThickness="1"
                    FontSize="14"
                    Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}" />

                <!--  Password  -->
                <TextBlock
                    Margin="0,0,0,5"
                    FontSize="13"
                    Foreground="#555555"
                    Text="Mật khẩu" />
                <PasswordBox
                    x:Name="txtPassword"
                    Height="40"
                    Margin="0,0,0,10"
                    Padding="10,0"
                    BorderBrush="#DDDDDD"
                    BorderThickness="1"
                    FontSize="14"
                    PasswordChanged="txtPassword_PasswordChanged" />

                <!--  Error Message  -->
                <TextBlock
                    Margin="0,5,0,15"
                    FontSize="12"
                    Foreground="Red"
                    Text="{Binding ErrorMessage}"
                    TextWrapping="Wrap"
                    Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}" />

                <!--  Login Button  -->
                <Button
                    Height="45"
                    Margin="0,10,0,0"
                    Background="#2196F3"
                    BorderThickness="0"
                    Command="{Binding LoginCommand}"
                    Content="ĐĂNG NHẬP"
                    Cursor="Hand"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Foreground="White">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#2196F3" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            Background="{TemplateBinding Background}"
                                            BorderThickness="0"
                                            CornerRadius="4">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#1976D2" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Background" Value="#CCCCCC" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <!--  Loading Indicator  -->
                <TextBlock
                    Margin="0,15,0,0"
                    HorizontalAlignment="Center"
                    FontSize="12"
                    Foreground="#666666"
                    Text="Đang đăng nhập..."
                    Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}" />
            </StackPanel>
        </Border>
    </Grid>
</Window>
